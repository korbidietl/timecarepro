<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arbeitsstunden Eintrag</title>
    <link rel="stylesheet" href="../static/styles.css">
</head>
<body>
    <div class="registration-form">
        <h2>Erbrachte Arbeitsleistung hinzufügen</h2>
        <form action="/submit_time_entry" method="post">
            <div class="form-row">
                <div class="form-group">
                    <label for="datum">Datum:</label>
                    <input type="date" id="datum" name="datum" required>
                </div>
                <div class="form-group">
                    <label for="startZeit">Startzeitpunkt:</label>
                    <input type="time" id="startZeit" name="startZeit" required>
                </div>
                <div class="form-group">
                    <label for="endZeit">Endzeitpunkt:</label>
                    <input type="time" id="endZeit" name="endZeit" required>
                </div>
                <div class="form-group">
                    <label for="fachkraft">Fachkraft:</label>
                    <input type="checkbox" id="fachkraft" name="fachkraft">
                </div>
                <div class="form-group">
                    <label for="klient">Klient:</label>
                    <select id="klient" name="klient">
                        <!-- Klienten DROPDOWN -->
                    </select>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="beschreibung">Beschreibung:</label>
                    <textarea id="beschreibung" name="beschreibung" readonly></textarea>
                </div>
                <div class="form-group">
                    <label for="interneNotiz">Interne Notiz:</label>
                    <textarea id="interneNotiz" name="interneNotiz" readonly></textarea>
                </div>
                <div class="form-group">
                    <label for="absage">Absage:</label>
                    <input type="checkbox" id="absage" name="absage">
                </div>
            </div>
            <h3>Fahrten:</h3>
            <div id="fahrtenContainer">
                <!-- Ursprüngliche Fahrt-Eingabezeile -->
                <div class="form-row fahrt-row">
                    <div class="form-group">
                        <label for="anrechenbarkeit0">Anrechenbarkeit:</label>
                        <input type="checkbox" id="anrechenbarkeit0" name="anrechenbarkeit0" required>
                    </div>
                    <div class="form-group">
                        <label for="startZeit_fahrt0">Startzeitpunkt:</label>
                        <input type="time" id="startZeit_fahrt0" name="startZeit_fahrt0" required>
                    </div>
                    <div class="form-group">
                        <label for="endZeit_fahrt0">Endzeitpunkt:</label>
                        <input type="time" id="endZeit_fahrt0" name="endZeit_fahrt0" required>
                    </div>
                    <div class="form-group">
                        <label for="kilometer0">Kilometer:</label>
                        <input type="number" id="kilometer0" name="kilometer0">
                    </div>
                    <button type="button" onclick="addFahrt()">+</button>
                    <button type="button" onclick="removeFahrt(this)">-</button>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Unterschrift Klient:</label>
                    <!-- Hier könnte ein Canvas oder ein Feld für die Unterschrift implementiert werden -->
                </div>
                <div class="form-group">
                    <label>Unterschrift Mitarbeiter:</label>
                    <!-- Hier könnte ein Canvas oder ein Feld für die Unterschrift implementiert werden -->
                </div>
            </div>
            <div class="form-actions">
                <button type="submit">Eintrag hinzufügen</button>
                <button type="button" onclick="window.location='/FMOF010';">Abbrechen</button>
            </div>
        </form>
    </div>

    <script>
        let fahrtCounter = 1;

        function addFahrt() {
            const fahrtContainer = document.getElementById('fahrtenContainer');
            const newFahrtRow = document.createElement('div');
            newFahrtRow.classList.add('form-row', 'fahrt-row');
            newFahrtRow.innerHTML = `
                <div class="form-group">
                    <label for="anrechenbarkeit${fahrtCounter}">Anrechenbarkeit:</label>
                    <input type="checkbox" id="anrechenbarkeit${fahrtCounter}" name="anrechenbarkeit${fahrtCounter}" required>
                </div>
                <div class="form-group">
                    <label for="startZeit_fahrt${fahrtCounter}">Startzeitpunkt:</label>
                    <input type="time" id="startZeit_fahrt${fahrtCounter}" name="startZeit_fahrt${fahrtCounter}" required>
                </div>
                <div class="form-group">
                    <label for="endZeit_fahrt${fahrtCounter}">Endzeitpunkt:</label>
                    <input type="time" id="endZeit_fahrt${fahrtCounter}" name="endZeit_fahrt${fahrtCounter}" required>
                </div>
                <div class="form-group">
                    <label for="kilometer${fahrtCounter}">Kilometer:</label>
                    <input type="number" id="kilometer${fahrtCounter}" name="kilometer${fahrtCounter}">
                </div>
                <button type="button" onclick="addFahrt()">+</button>
                <button type="button" onclick="removeFahrt(this)">-</button>
            `;
            fahrtContainer.appendChild(newFahrtRow);
            fahrtCounter++;
        }

        function removeFahrt(buttonElement) {
            const fahrtRow = buttonElement.closest('.fahrt-row');
            fahrtRow.remove();
        }
    </script>
</body>
</html>

